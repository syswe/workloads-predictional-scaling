<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HÄ±zlÄ± BaÅŸlangÄ±Ã§ - PHPA Wiki</title>
  <meta name="description" content="PHPA (Predictive Horizontal Pod Autoscaler) ile hÄ±zlÄ± baÅŸlangÄ±Ã§ rehberi">
  <link rel="stylesheet" href="../assets/css/wiki.css">
</head>
<body>
  <div class="wiki-container">
    <!-- Sidebar Navigation -->
    <nav class="wiki-sidebar" id="sidebar">
      <div class="wiki-sidebar-header">
        <a href="../index.html" class="wiki-logo">
          ğŸ“Š PHPA Wiki
        </a>
        <span class="wiki-version">v0.13.2</span>
      </div>

      <div class="wiki-nav">
        <div class="wiki-nav-section">
          <div class="wiki-nav-section-title">BaÅŸlangÄ±Ã§</div>
          <ul>
            <li><a href="../index.html">Ana Sayfa</a></li>
            <li><a href="getting-started.html" class="active">HÄ±zlÄ± BaÅŸlangÄ±Ã§</a></li>
            <li><a href="installation.html">Kurulum</a></li>
          </ul>
        </div>

        <div class="wiki-nav-section">
          <div class="wiki-nav-section-title">KÄ±lavuzlar</div>
          <ul>
            <li><a href="models.html">Modeller</a></li>
            <li><a href="configuration.html">YapÄ±landÄ±rma</a></li>
            <li><a href="examples.html">Ã–rnekler</a></li>
            <li><a href="benchmarking.html">Benchmark</a></li>
          </ul>
        </div>

        <div class="wiki-nav-section">
          <div class="wiki-nav-section-title">Ä°ÅŸletim</div>
          <ul>
            <li><a href="operations.html">Ä°ÅŸletim Rehberi</a></li>
            <li><a href="monitoring.html">Ä°zleme & GÃ¶zlem</a></li>
            <li><a href="troubleshooting.html">Sorun Giderme</a></li>
          </ul>
        </div>

        <div class="wiki-nav-section">
          <div class="wiki-nav-section-title">Referans</div>
          <ul>
            <li><a href="api-reference.html">API ReferansÄ±</a></li>
            <li><a href="cli-reference.html">CLI ReferansÄ±</a></li>
            <li><a href="changelog.html">DeÄŸiÅŸiklik GÃ¼nlÃ¼ÄŸÃ¼</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="wiki-main">
      <!-- Header -->
      <header class="wiki-header">
        <div class="wiki-header-content">
          <div class="wiki-breadcrumb">
            <a href="../index.html">Ana Sayfa</a>
            <span class="wiki-breadcrumb-separator">/</span>
            <span>HÄ±zlÄ± BaÅŸlangÄ±Ã§</span>
          </div>

          <div class="wiki-header-actions">
            <div class="wiki-search">
              <input type="text" class="wiki-search-input" placeholder="DokÃ¼mantasyonda ara...">
            </div>
            <button class="wiki-theme-toggle" title="Tema DeÄŸiÅŸtir">ğŸŒ™</button>
            <button class="wiki-mobile-toggle" title="MenÃ¼yÃ¼ AÃ§/Kapat">â˜°</button>
          </div>
        </div>
      </header>

      <!-- Page Content -->
      <div class="wiki-content">
        <!-- Page Header -->
        <div class="wiki-page-header">
          <h1 class="wiki-page-title">HÄ±zlÄ± BaÅŸlangÄ±Ã§</h1>
          <p class="wiki-page-description">
            PHPA'yÄ± 5 dakikada kurun ve ilk tahminli otomatik Ã¶lÃ§eklendirmenizi baÅŸlatÄ±n
          </p>
          <div class="wiki-page-meta">
            <span>ğŸ“… Son gÃ¼ncelleme: <span id="last-updated"></span></span>
            <span>ğŸ“– Okuma sÃ¼resi: ~5 dakika</span>
            <span>ğŸ¯ Seviye: BaÅŸlangÄ±Ã§</span>
          </div>
        </div>

        <!-- Table of Contents -->
        <div class="wiki-toc">
          <h3>Ä°Ã§indekiler</h3>
          <ul class="wiki-toc-list">
            <li class="wiki-toc-item"><a href="#prerequisites" class="wiki-toc-link">Ã–n KoÅŸullar</a></li>
            <li class="wiki-toc-item"><a href="#quick-setup" class="wiki-toc-link">HÄ±zlÄ± Kurulum</a></li>
            <li class="wiki-toc-item"><a href="#first-phpa" class="wiki-toc-link">Ä°lk PHPA OluÅŸturma</a></li>
            <li class="wiki-toc-item"><a href="#verify-setup" class="wiki-toc-link">Kurulumu DoÄŸrulama</a></li>
            <li class="wiki-toc-item"><a href="#next-steps" class="wiki-toc-link">Sonraki AdÄ±mlar</a></li>
          </ul>
        </div>

        <!-- Prerequisites -->
        <section id="prerequisites" class="mb-5">
          <h2>Ã–n KoÅŸullar</h2>
          <p>PHPA'yÄ± baÅŸlatmadan Ã¶nce aÅŸaÄŸÄ±daki bileÅŸenlerin hazÄ±r olduÄŸundan emin olun:</p>

          <div class="wiki-grid wiki-grid-2">
            <div class="wiki-card">
              <h4>ğŸ› ï¸ Gerekli AraÃ§lar</h4>
              <ul>
                <li><code>kubectl</code> - Kubernetes CLI</li>
                <li><code>helm</code> - Helm paket yÃ¶neticisi</li>
                <li><code>jq</code> - JSON iÅŸleme aracÄ±</li>
                <li><code>python3</code> - Model Ã§alÄ±ÅŸtÄ±rma iÃ§in</li>
              </ul>
            </div>

            <div class="wiki-card">
              <h4>ğŸ¯ Kubernetes Gereksinimleri</h4>
              <ul>
                <li>Kubernetes v1.23+ cluster</li>
                <li>Metrics Server kurulu</li>
                <li>Cluster admin yetkisi</li>
                <li>En az 2 CPU, 4GB RAM</li>
              </ul>
            </div>
          </div>

          <div class="wiki-alert wiki-alert-info">
            <strong>ğŸ’¡ Test OrtamÄ±:</strong> Yerel test iÃ§in <code>kind</code> veya <code>k3d</code> kullanmanÄ±zÄ± Ã¶neriyoruz.
            Docker Desktop Kubernetes'i de baÅŸlangÄ±Ã§ iÃ§in yeterlidir.
          </div>

          <h3>Kubernetes Cluster Kurulumu (Opsiyonel)</h3>
          <p>EÄŸer mevcut bir cluster'Ä±nÄ±z yoksa, yerel test iÃ§in kind kullanabilirsiniz:</p>

          <pre><code># Kind kurulumu (macOS)
brew install kind

# Test cluster oluÅŸturma
kind create cluster --name phpa-lab --wait 120s

# Kubectl context'i ayarlama
kubectl cluster-info --context kind-phpa-lab</code></pre>
        </section>

        <!-- Quick Setup -->
        <section id="quick-setup" class="mb-5">
          <h2>HÄ±zlÄ± Kurulum</h2>
          <p>PHPA'yÄ± tek komutla kurmak iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± takip edin:</p>

          <h3>1. Metrics Server Kurulumu</h3>
          <p>PHPA'nÄ±n CPU ve memory metriklerini okuyabilmesi iÃ§in Metrics Server gereklidir:</p>

          <pre><code># Metrics Server kurulumu
kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml

# Yerel test iÃ§in TLS ayarlarÄ±nÄ± dÃ¼zeltme
kubectl -n kube-system patch deploy/metrics-server \
  -p '{"spec":{"template":{"spec":{"containers":[{"name":"metrics-server","args":["--cert-dir=/tmp","--secure-port=10250","--kubelet-preferred-address-types=InternalIP,Hostname,ExternalIP","--kubelet-insecure-tls"]}]}}}}'

# Metrics Server'Ä±n hazÄ±r olduÄŸunu doÄŸrulama
kubectl wait --for=condition=available --timeout=300s deployment/metrics-server -n kube-system</code></pre>

          <h3>2. PHPA OperatÃ¶r Kurulumu</h3>
          <p>Helm chart ile PHPA operatÃ¶rÃ¼nÃ¼ kurun:</p>

          <pre><code># En son sÃ¼rÃ¼mÃ¼ indirme
VERSION=v0.13.2
wget https://github.com/syswe/predictive-horizontal-pod-autoscaler/releases/download/${VERSION}/predictive-horizontal-pod-autoscaler-${VERSION}.tgz

# Helm chart ile kurulum
helm install phpa-operator predictive-horizontal-pod-autoscaler-${VERSION}.tgz \
  --namespace default \
  --set mode=cluster

# OperatÃ¶rÃ¼n Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± doÄŸrulama
kubectl get pods -l name=predictive-horizontal-pod-autoscaler</code></pre>

          <div class="wiki-alert wiki-alert-warning">
            <strong>âš ï¸ Dikkat:</strong> EÄŸer Helm kullanmak istemiyorsanÄ±z, <a href="installation.html">manuel kurulum</a> sayfasÄ±na bakabilirsiniz.
          </div>

          <h3>3. HÄ±zlÄ± BaÅŸlangÄ±Ã§ Scripti</h3>
          <p>TÃ¼m kurulum sÃ¼recini otomatikleÅŸtiren hazÄ±r scriptimizi kullanabilirsiniz:</p>

          <pre><code># Projeyi klonlama
git clone https://github.com/syswe/predictive-horizontal-pod-autoscaler.git
cd predictive-horizontal-pod-autoscaler

# HÄ±zlÄ± baÅŸlangÄ±Ã§ scripti (CatBoost modeli ile)
bash scripts/phpa-start.sh -m catboost --start-load

# Script ÅŸunlarÄ± yapar:
# 1. CRD'leri yÃ¼kler
# 2. Metrics Server'Ä± doÄŸrular
# 3. PHPA operatÃ¶rÃ¼nÃ¼ daÄŸÄ±tÄ±r
# 4. Ã–rnek php-apache uygulamasÄ±nÄ± kurar
# 5. CatBoost modeli ile PHPA oluÅŸturur
# 6. YÃ¼k testi baÅŸlatÄ±r (opsiyonel)</code></pre>
        </section>

        <!-- First PHPA -->
        <section id="first-phpa" class="mb-5">
          <h2>Ä°lk PHPA OluÅŸturma</h2>
          <p>Basit bir PHPA kaynaÄŸÄ± oluÅŸturarak tahminli otomatik Ã¶lÃ§eklendirmeyi test edelim:</p>

          <h3>1. Test UygulamasÄ± DaÄŸÄ±tÄ±mÄ±</h3>
          <p>Ã–nce otomatik Ã¶lÃ§eklendireceÄŸimiz bir uygulama daÄŸÄ±talÄ±m:</p>

          <pre><code># PHP Apache test uygulamasÄ±
kubectl apply -f - <<EOF
apiVersion: apps/v1
kind: Deployment
metadata:
  name: php-apache
spec:
  selector:
    matchLabels:
      run: php-apache
  template:
    metadata:
      labels:
        run: php-apache
    spec:
      containers:
      - name: php-apache
        image: registry.k8s.io/hpa-example
        ports:
        - containerPort: 80
        resources:
          limits:
            cpu: 500m
          requests:
            cpu: 200m
---
apiVersion: v1
kind: Service
metadata:
  name: php-apache
  labels:
    run: php-apache
spec:
  ports:
  - port: 80
  selector:
    run: php-apache
EOF</code></pre>

          <h3>2. PHPA KaynaÄŸÄ± OluÅŸturma</h3>
          <p>Åimdi GBDT modeli kullanan bir PHPA oluÅŸturalÄ±m:</p>

          <pre><code># GBDT modeli ile PHPA
kubectl apply -f - <<EOF
apiVersion: syswe.me/v1alpha1
kind: PredictiveHorizontalPodAutoscaler
metadata:
  name: simple-gbdt-phpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: php-apache
  minReplicas: 1
  maxReplicas: 10
  syncPeriod: 20000  # 20 saniye
  decisionType: maximum
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 30
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          averageUtilization: 50
          type: Utilization
  models:
    - type: GBDT
      name: gbdt-predictor
      gbdt:
        lookAhead: 10000    # 10 saniye Ã¶nceden tahmin
        historySize: 30     # 30 veri noktasÄ± sakla
        lags: 6             # 6 geÃ§miÅŸ deÄŸeri kullan
EOF</code></pre>

          <h3>3. Ã‡oklu Model PHPA (GeliÅŸmiÅŸ)</h3>
          <p>Daha geliÅŸmiÅŸ tahmin iÃ§in birden fazla model kullanan bir PHPA:</p>

          <pre><code># Ã‡oklu model ile PHPA
kubectl apply -f - <<EOF
apiVersion: syswe.me/v1alpha1
kind: PredictiveHorizontalPodAutoscaler
metadata:
  name: multi-model-phpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: php-apache
  minReplicas: 1
  maxReplicas: 10
  decisionType: mean  # Modellerin ortalamasÄ±nÄ± al
  models:
    - type: GBDT
      name: gbdt-model
      gbdt:
        lookAhead: 10000
        historySize: 30
        lags: 6
    - type: XGBoost
      name: xgboost-model
      xgboost:
        lookAhead: 10000
        historySize: 30
        lags: 6
    - type: CatBoost
      name: catboost-model
      catboost:
        lookAhead: 10000
        historySize: 30
        lags: 6
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          averageUtilization: 50
          type: Utilization
EOF</code></pre>
        </section>

        <!-- Verify Setup -->
        <section id="verify-setup" class="mb-5">
          <h2>Kurulumu DoÄŸrulama</h2>
          <p>PHPA'nÄ±zÄ±n doÄŸru Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in:</p>

          <h3>1. PHPA Durumunu Kontrol Etme</h3>
          <pre><code># PHPA kaynaklarÄ±nÄ± listeleme
kubectl get phpa

# DetaylÄ± durum bilgisi
kubectl describe phpa simple-gbdt-phpa

# PHPA loglarÄ±nÄ± inceleme
kubectl logs -l name=predictive-horizontal-pod-autoscaler -f</code></pre>

          <h3>2. Ã–lÃ§eklendirmeyi Test Etme</h3>
          <p>YÃ¼k testi ile PHPA'nÄ±n Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± doÄŸrulayalÄ±m:</p>

          <pre><code># Basit yÃ¼k testi baÅŸlatma
kubectl run -i --tty load-generator --rm --image=busybox --restart=Never -- /bin/sh

# Busybox container'Ä±ndan yÃ¼k oluÅŸturma
while true; do wget -q -O- http://php-apache.default.svc.cluster.local/; done</code></pre>

          <h3>3. Model Verilerini Ä°nceleme</h3>
          <p>PHPA'nÄ±n sakladÄ±ÄŸÄ± geÃ§miÅŸ verileri ve tahminleri gÃ¶rmek iÃ§in:</p>

          <pre><code># ConfigMap'te saklanan veriyi inceleme
kubectl get configmap predictive-horizontal-pod-autoscaler-simple-gbdt-phpa-data -o json | \
  jq -r '.data.data | fromjson | .modelHistories["gbdt-predictor"].replicaHistory[]'

# Son 5 replica deÄŸerini gÃ¶sterme
kubectl get configmap predictive-horizontal-pod-autoscaler-simple-gbdt-phpa-data -o json | \
  jq -r '.data.data | fromjson | .modelHistories["gbdt-predictor"].replicaHistory[-5:]'</code></pre>

          <div class="wiki-alert wiki-alert-success">
            <strong>âœ… BaÅŸarÄ± GÃ¶stergeleri:</strong>
            <ul>
              <li>PHPA kaynaÄŸÄ± "Ready" durumunda</li>
              <li>Pod sayÄ±sÄ± yÃ¼ke gÃ¶re deÄŸiÅŸiyor</li>
              <li>ConfigMap'te veri birikiyor</li>
              <li>Loglar'da model tahminleri gÃ¶rÃ¼lÃ¼yor</li>
            </ul>
          </div>
        </section>

        <!-- Next Steps -->
        <section id="next-steps" class="mb-5">
          <h2>Sonraki AdÄ±mlar</h2>
          <p>Temel kurulumu tamamladÄ±ktan sonra ÅŸu adÄ±mlarÄ± takip edebilirsiniz:</p>

          <div class="wiki-grid wiki-grid-2">
            <div class="wiki-card">
              <h4>ğŸ“š Daha Fazla Ã–ÄŸrenin</h4>
              <ul>
                <li><a href="models.html">Model detaylarÄ±nÄ± Ã¶ÄŸrenin</a></li>
                <li><a href="configuration.html">GeliÅŸmiÅŸ yapÄ±landÄ±rma</a></li>
                <li><a href="examples.html">Ã–rnek projeleri inceleyin</a></li>
                <li><a href="benchmarking.html">Benchmark Ã§alÄ±ÅŸtÄ±rÄ±n</a></li>
              </ul>
            </div>

            <div class="wiki-card">
              <h4>ğŸ”§ Optimize Edin</h4>
              <ul>
                <li><a href="operations.html">ProdÃ¼ksiyon ayarlarÄ±</a></li>
                <li><a href="monitoring.html">Ä°zleme kurulumu</a></li>
                <li><a href="troubleshooting.html">Sorun giderme</a></li>
                <li><a href="api-reference.html">API referansÄ±</a></li>
              </ul>
            </div>
          </div>

          <h3>FaydalÄ± Komutlar</h3>
          <pre><code># TÃ¼m PHPA kaynaklarÄ±nÄ± listeleme
kubectl get phpa -A

# PHPA operatÃ¶r versiyonunu kontrol etme
kubectl get deployment predictive-horizontal-pod-autoscaler \
  -o jsonpath='{.spec.template.spec.containers[0].image}'

# Sistem kaynaklarÄ±nÄ± izleme
kubectl top pods
kubectl top nodes

# PHPA'yÄ± silme (temizlik)
kubectl delete phpa simple-gbdt-phpa
kubectl delete deployment php-apache
kubectl delete service php-apache</code></pre>

          <div class="wiki-alert wiki-alert-info">
            <strong>ğŸ’¡ Pro Ä°pucu:</strong> Ãœretim ortamÄ±nda kullanmadan Ã¶nce test verilerinizle
            <a href="benchmarking.html">kapsamlÄ± benchmark testleri</a> Ã§alÄ±ÅŸtÄ±rÄ±n.
          </div>
        </section>

        <!-- Page Navigation -->
        <div class="wiki-page-navigation">
          <a href="../index.html" class="wiki-nav-prev">â† Ana Sayfa</a>
          <a href="models.html" class="wiki-nav-next">Modeller â†’</a>
        </div>
      </div>
    </main>
  </div>

  <!-- Scripts -->
  <script src="../assets/js/wiki.js"></script>
  <script>
    // Set last updated date
    document.getElementById('last-updated').textContent = new Intl.DateTimeFormat('tr-TR', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    }).format(new Date());
  </script>
</body>
</html>